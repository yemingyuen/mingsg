;(function(a,l,f,m){a.Youxi=a.Youxi||{};var h={flickr:function(b,c){a.fn.jflickrfeed&&b.find(".flickr-feed").each(function(){var b=a(this).data("flickr-id"),e=a(this).data("limit")||9;a('<ul class="feed-list"/>').jflickrfeed(a.extend(!0,c||{},{qstrings:{id:b},limit:e})).prependTo(this)})},twitter:function(b,c){a.fn.miniTweets&&b.find(".twitter-feed").each(function(){a('<ul class="feed-list"/>').miniTweets(a.extend(!0,c||{},a(this).data())).prependTo(this)})},"google-maps":function(b,c){a.fn.youxiGoogleMaps&&b.find(".google-maps").each(function(){a(this).youxiGoogleMaps(a.extend(!0,c||{},a(this).data()))})},instagram:function(b,c){b.find(".instagram-feed").each(function(){var b=a(this),e=a.extend({username:"",count:8,imageSize:"thumbnail"},b.data());a.ajax({type:"post",url:_youxiWidgets.ajaxUrl,dataType:"json",data:{action:c.ajaxAction,instagram:e}}).done(function(c){c.success&&a.isArray(c.data)?a('<ul class="feed-list"/>').html(a.map(c.data,function(a){if(a.images&&a.images.hasOwnProperty(e.imageSize)){var b=a.link||"#",c=a.caption&&a.caption.text||"";a=a.images.hasOwnProperty(e.imageSize)?a.images[e.imageSize]:a.images.thumbnail;if(a.url&&a.width&&a.height){var d=a.url.replace(/^https?:\/\//,"//");return'<li><a href="'+b+'" title="'+c+'" target="_blank"><img width="'+a.width+'" height="'+a.height+'" src="'+d+'" alt="'+c+'"></a></li>'}}})).prependTo(b):b.html('<div class="alert alert-danger">'+(c.data&&c.data.error_message||"")+"</div>")})})},rotatingquotes:function(b,c){var d=function(a){var b=a.fadeOut(500).next().fadeIn(500);this.append(a).animate({height:b.outerHeight(!0)},500);return b};b.find(".rotating-quotes").each(function(){var b=a(this),c=b.data("duration")||6E3,f=b.children("blockquote"),g=f.first();g.nextAll().hide();setTimeout(function(){b.css({position:"relative",height:b.outerHeight()});f.css("position","absolute");g=d.call(b,g);b.data("rotatingquotes",setInterval(function(){g=d.call(b,g)},c))},c)})}},k={"google-maps":function(b,c){a.fn.youxiGoogleMaps&&b.find(".google-maps").youxiGoogleMaps("destroy")},rotatingquotes:function(b,c){b.find(".rotating-quotes").each(function(){var b=a(this).data("rotatingquotes");b&&clearInterval(b)})}};a.extend(a.Youxi,{Widgets:{setup:function(b){b=a(b||f);a.each(h,function(c,d){_youxiWidgets.hasOwnProperty(c)&&a.isFunction(d)&&d(b,_youxiWidgets[c])})},teardown:function(b){b=a(b||f);a.each(k,function(c,d){_youxiWidgets.hasOwnProperty(c)&&a.isFunction(d)&&d(b,_youxiWidgets[c])})}}});a(function(){a.Youxi.Widgets.setup()})})(jQuery,window,document);