/**
 * Youxi Builder JS
 *
 * This script contains the page builder base code
 *
 * @package   Youxi Builder
 * @author    Mairel Theafila <maimairel@yahoo.com>
 * @copyright Copyright (c) 2013-2015, Mairel Theafila
 */
;(function(c,e,f,g){c.Youxi.Builder.Manager={instances:{},add:function(a){var b=this.instances[a];b||(b=c.Youxi.Builder({editorId:a}));return this.instances[a]=b},get:function(a){return this.instances[a]},init:function(){!this.initialized&&e.switchEditors&&"undefined"!=typeof tinymce&&(this.initialized=!0,c(".wp-switch-editor.switch-youxi-builder").each(function(){var a=c(this).closest(".wp-editor-tools").find(".wp-editor-tabs");c(this).removeAttr("style").appendTo(a)}))},show:function(a){var b=this.get(a);if(this.initialized&&(!b||b.isHidden())){e.switchEditors.go(a,"tmce");var d=tinymce.get(a);d&&!d.isHidden()&&d.hide();b||(b=this.add(a));b.show();c("#wp-"+a+"-wrap").removeClass("tmce-active html-active").addClass("ypbl-active")}},hide:function(a,b){var d=this.get(a);this.initialized&&d&&!d.isHidden()&&(d.hide(),c("#wp-"+a+"-wrap").removeClass("ypbl-active"),e.switchEditors.go(a,"html"==b?"tmce":"html"))}};c(function(){c.Youxi.Builder.Manager.init()});c(f).on("click",function(a){var b,d=c(a.target);d.is(".wp-switch-editor")&&(b=d.data("wp-editor-id"),d.is(".switch-youxi-builder")?c.Youxi.Builder.Manager.initialized&&(c.Youxi.Builder.Manager.show(b),a.stopImmediatePropagation()):(a=d.hasClass("switch-tmce")?"tmce":"html",c.Youxi.Builder.Manager.hide(b,a)))})})(jQuery,window,document);