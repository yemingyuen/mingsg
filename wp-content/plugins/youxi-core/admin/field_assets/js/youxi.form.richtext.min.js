/**
 * Youxi Richtext Form Field JS
 *
 * This script contains the initialization code for the richtext form field.
 *
 * @package   Youxi Core
 * @author    Mairel Theafila <maimairel@gmail.com>
 * @copyright Copyright (c) 2013-2015, Mairel Theafila
 */
;(function(d,b){if(d.Youxi.Form.Manager){var e=!1;d.Youxi.Form.Manager.addCallbacks("richtext",function(f){d(f).on("click.wp-editor",".wp-editor-wrap",function(){this.id&&(b.wpActiveEditor=this.id.slice(3,-5))}).find("textarea.youxi-tmce-ajax").each(function(){if("undefined"!==typeof tinymce&&"tinymce"==getUserSetting("editor")&&tinyMCEPreInit.mceInit){if(!e){var a,c;for(c in tinyMCEPreInit.mceInit)a?",directionality"==tinyMCEPreInit.mceInit[c].plugins&&(tinyMCEPreInit.mceInit[c].plugins=a.plugins):a=tinyMCEPreInit.mceInit[c];e=!0}a=tinymce.get(this.id);c=tinyMCEPreInit.mceInit[this.id];if(!a&&c)try{tinymce.init(c),b.wpActiveEditor||(b.wpActiveEditor=this.id)}catch(d){}}if("undefined"!==typeof QTags){a=tinyMCEPreInit.qtInit&&tinyMCEPreInit.qtInit[this.id];try{a&&(quicktags(a),QTags._buttonsInit(),b.wpActiveEditor||(b.wpActiveEditor=this.id))}catch(f){}}})},function(b){d(b).find("textarea.youxi-tmce-ajax").each(function(){"undefined"!==typeof tinymce&&tinymce.get(this.id)&&tinymce.remove("#"+this.id)}).off("click.wp-editor")})}})(jQuery,window,document);