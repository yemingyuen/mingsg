(function(a,f,k){var m=a(k),n=a(f),p=a(k.body),e=f.Helium=f.Helium||{};e.ajax&&e.ajax.enabled&&f.History&&(a.extend(e,{teardown:function(b){b=a(b||k);a.fn.royalSlider&&b.find(".royalSlider").each(function(){var b=a(this).data("royalSlider");b&&b.destroy()});a.fn.justifiedGrids&&b.find(".justified-grids").justifiedGrids("destroy");a.fn.isotope&&b.find(".gallery").isotope("destroy");b.find(".grid-list").each(function(){var b=a.data(this,"helium.gridlist._inst");b instanceof e.GridList&&b.destroy()});
a.magnificPopup&&(a.magnificPopup.instance.close(),a.magnificPopup.instance.items=null,a.magnificPopup.instance.ev=null,a.magnificPopup.instance.st=null,a.magnificPopup.instance.contentContainer=null);a.fn.youxiGoogleMaps&&b.find(".google-maps").youxiGoogleMaps("destroy");a.fn.ajaxFormUnbind&&b.find("div.wpcf7 > form").ajaxFormUnbind().unbind(".form-plugin");a.fn.mediaelementplayer&&b.find(".wp-audio-shortcode, .wp-video-shortcode").mediaelementplayer(!1)},Ajax:{init:function(){var b=History.getRootUrl(),
c=!1,g=null,h=k.createElement("span"),d=a(".content-area-wrap"),r=function(){c&&!h.parentNode&&d.find(".content-header .content-title").html(h).transition({opacity:1,duration:350,ease:"easeOutQuad",complete:l})},l=function(b){if(c){g||(g=new SplitText(h,{type:"words,chars"}));var d=g.chars,e=d.length-1,d=b?d:Array.prototype.slice.call(d).reverse();a.each(d,function(c){a(this).transition({opacity:b?1:0,x:b?0:10,delay:100*c,duration:400,complete:c==e?function(){l(!b)}:a.noop})})}},q=function(){d.find(".content-area .content-wrap").add(d.find(".content-area .content-header-affix").children()).transition({opacity:0,
duration:350,ease:"easeOutQuad",complete:r})},m=function(b){h.parentNode&&h.parentNode.removeChild(h);g instanceof SplitText&&a(g.chars).css({opacity:"",transition:"",transform:""});e.teardown(d);e.setup(d.html(b));d[0].offsetHeight;d.find(".content-area").removeClass("beforeload");c=!1};h.innerHTML=e.ajax.loadingText||"";e.AjaxNavigator.init({linkSelector:"a.ajaxify, .header .brand a, .main-nav .menu a, .portfolio a.portfolio-info-link, .pages-nav a, .post-tags a, .content-nav a, .post-title a, .post-meta a, .post-media a, .post-body a.more-link, .related-entry-media a:not(.mfp-image), .related-entry-title a, .related-entry-meta a, .edd-download-title a, a.edd-download-view-details, .grid-list a.grid-list-image-link.grid-list-page, .featured-portfolio-slider .entry-link, .search-entry-post-type a, .search-entry-title a",
excludeUrls:e.ajax.excludeUrls,bodyClassReplacer:function(a){p.hasClass("nav-open")&&(a=[a,"nav-open"].join(" "));p[0].className=a},stateChange:function(b,d){c=!0;if(0!=n.scrollTop()&&e.ajax.scrollTop)return a("html,body").finish().animate({scrollTop:0},500).promise().done(function(){q();d()}),!1;q()},done:function(c,d){var g,h=a(c),e=h.find(".content-area");h.find(".main-nav .menu .menu-item").each(function(){this.id&&(g=k.getElementById(this.id))&&(a(g).hasClass("sub-menu-open")&&a(this).addClass("sub-menu-open"),
g.className=this.className)});e.addClass("beforeload");m(e[0].outerHTML);"undefined"!==typeof f._gaq&&f._gaq.push(["_trackPageview",d.replace(b,"")])}})}},AjaxNavigator:{defaults:{stateChange:a.noop,done:a.noop,fail:a.noop,always:a.noop,titleReplacer:null,bodyClassReplacer:null,stateChangeContext:null,doneContext:null,failContext:null,alwaysContext:null,titleReplacerContext:null,bodyClassReplacerContext:null,ajaxParams:{},linkSelector:"a:not(.no-ajaxify)",excludeUrls:[]},_hash:function(){return"tag-"+
Math.random().toString(36).substr(2,9)},init:function(b){f.History&&f.History.enabled&&(this.options=a.extend(!0,{},this.defaults,b),m.on("click.ajaxnavigator",this.options.linkSelector,a.proxy(this.onClick,this)),n.on("statechange.ajaxnavigator",a.proxy(this.onStateChange,this)))},onClick:function(b){var c=b.currentTarget,g=History.getRootUrl();a.map(this.options.excludeUrls||[],function(a){if(c.href.substring(0,a.length)===a)return a}).length||c.href.substring(0,g.length)!==g&&-1<c.href.indexOf(":")||
1<b.which||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||location.protocol!==c.protocol||location.hostname!==c.hostname||c.hash&&c.href.replace(c.hash,"")===location.href.replace(location.hash,"")||"_blank"===c.target||c.href===location.href+"#"||b.isDefaultPrevented()||(History.pushState(null,null,c.href),b.preventDefault())},onStateChange:function(b){var c=History.getState();b=a.proxy(function(){this._doRequest.apply(this,[c.url,this.options.ajaxParams])},this);a.isFunction(this.options.stateChange)&&
!1===this.options.stateChange.apply(this.options.stateChangeContext||this,[c.url,b])||b()},_documentHtml:function(b,c){var g=String(b).replace(/<(html|head|title|body)([\s\>])/gi,"<div data-"+c+'="$1"$2').replace(/<\/(html|head|title|body)\>/gi,"</div>");return a.trim(g)},_doRequest:function(b,c){a.ajax(b,a.extend(c,{context:this,dataType:"html",type:"GET"})).done(function(c){var e=a(k.createElement("div")).append(a.parseHTML(c,!0)),d=e.find("title"),f=e.find("body");e.find("script[src]");var l=this._hash();
c=a(this._documentHtml(c,l));d.length||(d=c.find("[data-"+l+'="title"]'));f.length||(f=c.find("[data-"+l+'="body"]'));d.length&&(a.isFunction(this.options.titleReplacer)?this.options.titleReplacer.apply(this.options.titleReplacerContext,[d.text()]):k.title=d.text());f.length&&(a.isFunction(this.options.bodyClassReplacer)?this.options.bodyClassReplacer.apply(this.options.bodyClassReplacerContext,[f[0].className]):k.body.className=f[0].className);a.isFunction(this.options.done)&&this.options.done.apply(this.options.doneContext||
this,[a("<div></div>").append(e).html(),b])}).fail(a.proxy(this.options.fail,this.options.failContext)).always(a.proxy(this.options.always,this.options.alwaysContext))}}}),a(function(){e.Ajax.init()}))})(jQuery,window,document);