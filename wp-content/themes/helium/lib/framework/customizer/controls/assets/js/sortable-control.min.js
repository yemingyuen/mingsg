;(function(e,c){var b=e.customize;b&&(b.Youxi=b.Youxi||{},b.Youxi.SortableControl=b.Control.extend({update:function(){var a=this,b,d={};d.order=a.items.sortable("toArray",{attribute:"data-value"});d.values=c.map(d.order||[],function(c){b=a.checkboxes&&a.checkboxes[c];if(!a.params.togglable||!b||b.checked)return c});a.setting.set(d)},ready:function(){var a=this,b;a.items=a.container.find(".youxi-sortable-container");a.items.length&&c.fn.sortable&&(a.params.togglable&&(a.checkboxes={},a.items.find(".youxi-sortable-item :checkbox").each(function(){(b=c(this).closest(".youxi-sortable-item").data("value"))&&(a.checkboxes[b]=this)}),a.container.on("change",".youxi-sortable-item :checkbox",_.bind(a.update,this))),a.items.sortable({axis:"y",items:".youxi-sortable-item",update:_.bind(a.update,this)}))}}),c.extend(b.controlConstructor,{youxi_sortable:b.Youxi.SortableControl}))})(window.wp,jQuery);